/**
 * Angular-Validation Directive and Service (ghiscoding)
 * http://github.com/ghiscoding/angular-validation
 * @author: Ghislain B.
 * @version: 1.3.20
 * @license: MIT
 * @build: Tue Apr 21 2015 22:55:24 GMT-0400 (Eastern Daylight Time)
 */
angular.module("ghiscoding.validation",["pascalprecht.translate"]).directive("validation",["$timeout","validationCommon","validationRules",function(i,t){return{restrict:"A",require:"ngModel",link:function(a,e,n,d){function l(){v=!0,i.cancel(r),s.updateErrorMsg(""),d.$setValidity("validation",!0),"undefined"!=typeof u&&e.unbind("blur",u)}function o(t){return s.validate(t,!1),s.isFieldRequired()||""!==t&&null!==t&&"undefined"!=typeof t?(v=!1,(t||s.isFieldRequired())&&d.$setValidity("validation",!1),e.bind("blur",u=function(){v||a.$evalAsync(d.$setValidity("validation",s.validate(t,!0)))}),""!==t&&"undefined"!=typeof t||"NUMBER"!==e.prop("type").toUpperCase()?"SELECT"===e.prop("tagName").toUpperCase()?(d.$setValidity("validation",s.validate(t,!0)),t):("undefined"!=typeof t&&(s.updateErrorMsg(""),i.cancel(r),r=i(function(){a.$evalAsync(d.$setValidity("validation",s.validate(t,!0)))},s.typingLimit)),t):(i.cancel(r),d.$setValidity("validation",s.validate(t,!0)),t)):(l(),t)}var r,u,s=new t(a,e,n,d),v=!1;d.$formatters.unshift(o),d.$parsers.unshift(o),n.$observe("disabled",function(i){i?d.$setValidity("validation",!0):d.$setValidity("validation",s.validate(d.$viewValue,!0))})}}}]);
angular.module("ghiscoding.validation").factory("validationCommon",["$timeout","$translate","validationRules",function(t,e,a){function r(){var t=this,e={};t.validators=[],t.typingLimit=E,t.validatorAttrs.hasOwnProperty("debounce")?t.typingLimit=parseInt(t.validatorAttrs.debounce,10):t.validatorAttrs.hasOwnProperty("typingLimit")?t.typingLimit=parseInt(t.validatorAttrs.typingLimit,10):t.scope.$validationOptions&&t.scope.$validationOptions.hasOwnProperty("debounce")&&(t.typingLimit=parseInt(t.scope.$validationOptions.debounce,10));var r=t.validatorAttrs.hasOwnProperty("rules")?t.validatorAttrs.rules:t.validatorAttrs.validation;if(r.indexOf("regex:")>=0){var i=r.match("regex:(.*?):regex");if(i.length<2)throw'Regex validator within the validation needs to be define with an opening "regex:" and a closing ":regex", please review your validator.';var n=i[1].split(":=");e={message:n[0],pattern:n[1]},r=r.replace(i[0],"regex:")}var s=r.split("|");if(s){t.bFieldRequired=r.indexOf("required")>=0?!0:!1;for(var l=0,o=s.length;o>l;l++){var d=s[l].split(":"),u=s[l].indexOf("alt=")>=0?!0:!1;t.validators[l]=a.getElementValidators({altText:u===!0?2===d.length?d[1]:d[2]:"",customRegEx:e,rule:d[0],ruleParams:u&&2===d.length?null:d[1]})}}return t}function i(t){return v(R,"fieldName",t)}function n(){return R}function s(t,e,a,r){this.scope=t,this.elm=e,this.ctrl=r,this.validatorAttrs=a,m(e,a,r,t),this.defineValidation()}function l(){var t=this;return t.bFieldRequired}function o(t){var e=f(R,"fieldName",t);e>=0&&R.splice(e,1)}function d(t,e){var a=f(t,"field",e);a>=0&&t.splice(a,1),a=f(x,"field",e),a>=0&&x.splice(a,1)}function u(t,a){var r=this;a&&a.obj&&(r=a.obj,r.validatorAttrs=a.obj.attrs);var i=a&&a.elm?a.elm:r.elm,n=i&&i.attr("name")?i.attr("name"):null;if("undefined"==typeof n||null===n)throw'Angular-Validation Service requires you to have a (name="") attribute on the element to validate... Your element is: ng-model="'+i.attr("ng-model")+'"';var s=a&&a.translate?e.instant(t):t,l=n.replace(/[|&;$%@"<>()+,\[\]\{\}]/g,""),o=null;if(r.validatorAttrs&&r.validatorAttrs.hasOwnProperty("validationErrorTo")){var d=r.validatorAttrs.validationErrorTo.charAt(0),u="."===d||"#"===d?r.validatorAttrs.validationErrorTo:"#"+r.validatorAttrs.validationErrorTo;o=angular.element(document.querySelector(u))}o&&0!==o.length||(o=angular.element(document.querySelector(".validation-"+l)));var p=a&&a.isSubmitted?a.isSubmitted:!1;a&&!a.isValid&&(p||r.ctrl.$dirty||r.ctrl.$touched)?o.length>0?o.text(s):i.after('<span class="validation validation-'+l+' text-danger">'+s+"</span>"):o.text("")}function p(t,a){for(var r,n,s=this,l=!0,o=!0,d="",u=s.validatorAttrs&&s.validatorAttrs.name?s.validatorAttrs.name:s.attrs&&s.attrs.name?s.attrs.name:s.elm.attr("name"),p=i(u),m=s.validatorAttrs.hasOwnProperty("rules")?s.validatorAttrs.rules:s.validatorAttrs.validation,v=0,g=s.validators.length;g>v;v++){if(n=s.validators[v],"conditionalDate"===n.type){if(r=new RegExp(n.pattern,"i"),l="\\S+"!==n.pattern||"undefined"!=typeof t&&null!==t?r.test(t):!1){var f=n.dateType,h=b(t,f).getTime();if(2==n.params.length){var O=b(n.params[0],f).getTime(),E=b(n.params[1],f).getTime(),R=A(n.condition[0],h,O),S=A(n.condition[1],h,E);l=R&&S?!0:!1}else{var w=b(n.params[0],f).getTime();l=A(n.condition,h,w)}}}else if("conditionalNumber"===n.type)if(2==n.params.length){var R=A(n.condition[0],parseFloat(t),parseFloat(n.params[0])),S=A(n.condition[1],parseFloat(t),parseFloat(n.params[1]));l=R&&S?!0:!1}else l=A(n.condition,parseFloat(t),parseFloat(n.params[0]));else if("match"===n.type){var F=n.params[0],T=s.scope.$eval(F);l=T===t}else s.elm.prop("disabled")||1==parseInt(s.elm.attr("ng-disabled"))||"true"===s.elm.attr("ng-disabled")?l=!0:"string"==typeof t&&""===t&&"NUMBER"===s.elm.prop("type").toUpperCase()?(l=!1,d=e.instant("INVALID_KEY_CHAR")):(r=new RegExp(n.pattern,"i"),l=!("\\S+"===n.pattern||m&&m.indexOf("required")>=0)||"undefined"!=typeof t&&null!==t?r.test(t):!1);(!s.bFieldRequired&&!t||s.elm.prop("disabled")||1==parseInt(s.elm.attr("ng-disabled"))||"true"===s.elm.attr("ng-disabled"))&&(l=!0),l||(o=!1,n.altText&&n.altText.length>0?(d+=" "+n.altText.replace("alt=",""),c(s,d.trim())):!function(t,r,i){e(i.message).then(function(e){d+=" "+y(i,e),d=d.trim(),x=c(t,d),t&&(t.message=d),a&&!t.isValid?s.updateErrorMsg(d,{isValid:o}):t&&t.isValid&&c(t,"")},function(t){throw"Failed to translate"+t})}(p,l,n))}return l&&(c(s,""),s.updateErrorMsg("",{isValid:l})),p&&(p.isValid=o,o&&(p.message="")),o}function m(t,e,a,r){var i=e.name?e.name:t.attr("name"),n={fieldName:i,elm:t,attrs:e,ctrl:a,scope:r,isValid:!1,message:""},s=f(R,"fieldName",t.attr("name"));return s>=0?R[s]=n:R.push(n),R}function c(t,e){var a=t.validatorAttrs&&t.validatorAttrs.name?t.validatorAttrs.name:t.attrs&&t.attrs.name?t.attrs.name:t.elm.attr("name"),r=h(a,t),i=f(x,"field",a);if(i>=0&&""===e)x.splice(i,1);else if(""!==e){var n={field:a,message:e,formName:r?r.$name:null};i>=0?x[i]=n:x.push(n)}return t.scope.$validationSummary=x,r&&(r.$validationSummary=g(x,"formName",r.$name)),x}function v(t,e,a){for(var r=0;r<t.length;r++)if(t[r][e]===a)return t[r];return null}function g(t,e,a){for(var r=[],i=0;i<t.length;i++)t[i][e]===a&&r.push(t[i]);return r}function f(t,e,a){for(var r=0;r<t.length;r++)if(t[r][e]===a)return r;return-1}function h(t,e){for(var a=document.getElementsByName(t),r=0;r<a.length;r++){var i=a[r].form;if(i&&i.name&&e.scope[i.name])return e.scope[i.name]}return null}function b(t,e){var a="",r="-",i=[],n=[],s="",l="",o="";switch(e.toUpperCase()){case"EURO_LONG":case"EURO-LONG":a=t.substring(0,10),r=t.substring(2,3),i=O(a,r),o=i[0],l=i[1],s=i[2],n=t.length>8?t.substring(9).split(":"):null;break;case"UK":case"EURO":case"EURO_SHORT":case"EURO-SHORT":case"EUROPE":a=t.substring(0,8),r=t.substring(2,3),i=O(a,r),o=i[0],l=i[1],s=parseInt(i[2])<50?"20"+i[2]:"19"+i[2],n=t.length>8?t.substring(9).split(":"):null;break;case"US_LONG":case"US-LONG":a=t.substring(0,10),r=t.substring(2,3),i=O(a,r),l=i[0],o=i[1],s=i[2],n=t.length>8?t.substring(9).split(":"):null;break;case"US":case"US_SHORT":case"US-SHORT":a=t.substring(0,8),r=t.substring(2,3),i=O(a,r),l=i[0],o=i[1],s=parseInt(i[2])<50?"20"+i[2]:"19"+i[2],n=t.length>8?t.substring(9).split(":"):null;break;case"ISO":default:a=t.substring(0,10),r=t.substring(4,5),i=O(a,r),s=i[0],l=i[1],o=i[2],n=t.length>10?t.substring(11).split(":"):null}var d=n&&3===n.length?n[0]:0,u=n&&3===n.length?n[1]:0,p=n&&3===n.length?n[2]:0;return new Date(s,l-1,o,d,u,p)}function y(t,e){if(t&&t.params)for(var a=0,r=t.params.length;r>a;a++)"match"===t.type&&r>1&&0===a||(e=e.replace(":param",t.params[a]));return e}function O(t,e){var a=[];switch(e){case"/":a=t.split("/");break;case".":a=t.split(".");break;case"-":default:a=t.split("-")}return a}function A(t,e,a){var r=!1;switch(t){case"<":r=a>e?!0:!1;break;case"<=":r=a>=e?!0:!1;break;case">":r=e>a?!0:!1;break;case">=":r=e>=a?!0:!1;break;case"!=":case"<>":r=e!=a?!0:!1;break;case"=":case"==":r=e==a?!0:!1;break;default:r=!1}return r}var E=1e3,R=[],x=[],S=function(t,e,a,r){this.timer=null,this.bFieldRequired=!1,this.validators=[],this.typingLimit=E,this.scope=t,this.elm=e,this.ctrl=r,this.validatorAttrs=a,t&&e&&a&&r&&(m(e,a,r,t),this.defineValidation())};return S.prototype.defineValidation=r,S.prototype.getFormElementByName=i,S.prototype.getFormElements=n,S.prototype.isFieldRequired=l,S.prototype.initialize=s,S.prototype.updateErrorMsg=u,S.prototype.validate=p,S.prototype.removeFromValidationSummary=d,S.prototype.removeFromFormElementObjectList=o,S}]);
angular.module("ghiscoding.validation").factory("validationRules",[function(){function e(e){var a="undefined"!=typeof e.altText?e.altText.replace("alt=",""):null,t=e.hasOwnProperty("customRegEx")?e.customRegEx:null,s=e.hasOwnProperty("rule")?e.rule:null,r=e.hasOwnProperty("ruleParams")?e.ruleParams:null,n={};switch(s){case"alpha":n={pattern:"^([a-zÀÁÂÃÄÅÇÈÉÊËÌÍÎÏÒÓÔÕÖÙÚÛÜÝàáâãäåçèéêëìíîïðòóôõöùúûüýÿ])+$",message:"INVALID_ALPHA",type:"regex"};break;case"alphaSpaces":case"alpha_spaces":n={pattern:"^([a-zÀÁÂÃÄÅÇÈÉÊËÌÍÎÏÒÓÔÕÖÙÚÛÜÝàáâãäåçèéêëìíîïðòóôõöùúûüýÿ\\s])+$",message:"INVALID_ALPHA_SPACE",type:"regex"};break;case"alphaNum":case"alpha_num":n={pattern:"^([a-z0-9ÀÁÂÃÄÅÇÈÉÊËÌÍÎÏÒÓÔÕÖÙÚÛÜÝàáâãäåçèéêëìíîïðòóôõöùúûüýÿ])+$",message:"INVALID_ALPHA_NUM",type:"regex"};break;case"alphaNumSpaces":case"alpha_num_spaces":n={pattern:"^([a-z0-9ÀÁÂÃÄÅÇÈÉÊËÌÍÎÏÒÓÔÕÖÙÚÛÜÝàáâãäåçèéêëìíîïðòóôõöùúûüýÿ\\s])+$",message:"INVALID_ALPHA_NUM_SPACE",type:"regex"};break;case"alphaDash":case"alpha_dash":n={pattern:"^([a-z0-9ÀÁÂÃÄÅÇÈÉÊËÌÍÎÏÒÓÔÕÖÙÚÛÜÝàáâãäåçèéêëìíîïðòóôõöùúûüýÿ_-])+$",message:"INVALID_ALPHA_DASH",type:"regex"};break;case"alphaDashSpaces":case"alpha_dash_spaces":n={pattern:"^([a-z0-9ÀÁÂÃÄÅÇÈÉÊËÌÍÎÏÒÓÔÕÖÙÚÛÜÝàáâãäåçèéêëìíîïðòóôõöùúûüýÿ\\s_-])+$",message:"INVALID_ALPHA_DASH_SPACE",type:"regex"};break;case"betweenLen":case"between_len":var _=r.split(",");if(2!==_.length)throw"This validation must include exactly 2 params separated by a comma (,) ex.: between_len:1,5";n={pattern:"^.{"+_[0]+","+_[1]+"}$",message:"INVALID_BETWEEN_CHAR",params:[_[0],_[1]],type:"regex"};break;case"betweenNum":case"between_num":var _=r.split(",");if(2!==_.length)throw"This validation must include exactly 2 params separated by a comma (,) ex.: between_num:1,5";n={condition:[">=","<="],message:"INVALID_BETWEEN_NUM",params:[_[0],_[1]],type:"conditionalNumber"};break;case"creditCard":case"credit_card":n={pattern:"^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|6(?:011|5[0-9]{2})[0-9]{12}|(?:2131|1800|35\\d{3})\\d{11})$",message:"INVALID_CREDIT_CARD",type:"regex"};break;case"dateEuroLong":case"date_euro_long":n={pattern:"^(0[1-9]|[12][0-9]|3[01])[-/](0[1-9]|1[012])[-/](19|20)\\d\\d$",message:"INVALID_DATE_EURO_LONG",type:"regex"};break;case"dateEuroLongBetween":case"date_euro_long_between":case"betweenDateEuroLong":case"between_date_euro_long":var _=r.split(",");if(2!==_.length)throw"This validation must include exactly 2 params separated by a comma (,) ex.: between_date_euro_long:01-01-1990,31-12-2015";n={condition:[">=","<="],dateType:"EURO_LONG",params:[_[0],_[1]],pattern:"^(0[1-9]|[12][0-9]|3[01])[-/](0[1-9]|1[012])[-/](19|20)\\d\\d$",message:"INVALID_DATE_EURO_LONG_BETWEEN",type:"conditionalDate"};break;case"dateEuroLongMax":case"date_euro_long_max":case"maxDateEuroLong":case"max_date_euro_long":n={condition:"<=",dateType:"EURO_LONG",params:[r],pattern:"^(0[1-9]|[12][0-9]|3[01])[-/](0[1-9]|1[012])[-/](19|20)\\d\\d$",message:"INVALID_DATE_EURO_LONG_MAX",type:"conditionalDate"};break;case"dateEuroLongMin":case"date_euro_long_min":case"minDateEuroLong":case"min_date_euro_long":n={condition:">=",dateType:"EURO_LONG",params:[r],pattern:"^(0[1-9]|[12][0-9]|3[01])[-/](0[1-9]|1[012])[-/](19|20)\\d\\d$",message:"INVALID_DATE_EURO_LONG_MIN",type:"conditionalDate"};break;case"dateEuroShort":case"date_euro_short":n={pattern:"^(0[1-9]|[12][0-9]|3[01])[-/](0[1-9]|1[012])[-/]\\d\\d$",message:"INVALID_DATE_EURO_SHORT",type:"regex"};break;case"dateEuroShortBetween":case"date_euro_short_between":case"betweenDateEuroShort":case"between_date_euro_short":var _=r.split(",");if(2!==_.length)throw"This validation must include exactly 2 params separated by a comma (,) ex.: between_date_euro_short:01-01-90,31-12-15";n={condition:[">=","<="],dateType:"EURO_SHORT",params:[_[0],_[1]],pattern:"^(0[1-9]|[12][0-9]|3[01])[-/](0[1-9]|1[012])[-/]\\d\\d$",message:"INVALID_DATE_EURO_SHORT_BETWEEN",type:"conditionalDate"};break;case"dateEuroShortMax":case"date_euro_short_max":case"maxDateEuroShort":case"max_date_euro_short":n={condition:"<=",dateType:"EURO_SHORT",params:[r],pattern:"^(0[1-9]|[12][0-9]|3[01])[-/](0[1-9]|1[012])[-/]\\d\\d$",message:"INVALID_DATE_EURO_SHORT_MAX",type:"conditionalDate"};break;case"dateEuroShortMin":case"date_euro_short_min":case"minDateEuroShort":case"min_date_euro_short":n={condition:">=",dateType:"EURO_SHORT",params:[r],pattern:"^(0[1-9]|[12][0-9]|3[01])[-/](0[1-9]|1[012])[-/]\\d\\d$",message:"INVALID_DATE_EURO_SHORT_MIN",type:"conditionalDate"};break;case"dateIso":case"date_iso":n={pattern:"^(19|20)\\d\\d([-])(0[1-9]|1[012])\\2(0[1-9]|[12][0-9]|3[01])$",message:"INVALID_DATE_ISO",type:"regex"};break;case"dateIsoBetween":case"date_iso_between":case"betweenDateIso":case"between_date_iso":var _=r.split(",");if(2!==_.length)throw"This validation must include exactly 2 params separated by a comma (,) ex.: between_date_iso:1990-01-01,2000-12-31";n={condition:[">=","<="],dateType:"ISO",params:[_[0],_[1]],pattern:"^(19|20)\\d\\d([-])(0[1-9]|1[012])\\2(0[1-9]|[12][0-9]|3[01])$",message:"INVALID_DATE_ISO_BETWEEN",type:"conditionalDate"};break;case"dateIsoMax":case"date_iso_max":case"maxDateIso":case"max_date_iso":n={condition:"<=",dateType:"ISO",params:[r],pattern:"^(19|20)\\d\\d([-])(0[1-9]|1[012])\\2(0[1-9]|[12][0-9]|3[01])$",message:"INVALID_DATE_ISO_MAX",type:"conditionalDate"};break;case"dateIsoMin":case"date_iso_min":case"minDateIso":case"min_date_iso":n={condition:">=",dateType:"ISO",params:[r],pattern:"^(19|20)\\d\\d([-])(0[1-9]|1[012])\\2(0[1-9]|[12][0-9]|3[01])$",message:"INVALID_DATE_ISO_MIN",type:"conditionalDate"};break;case"dateUsLong":case"date_us_long":n={pattern:"^(0[1-9]|1[012])[-/](0[1-9]|[12][0-9]|3[01])[-/](19|20)\\d\\d$",message:"INVALID_DATE_US_LONG",type:"regex"};break;case"dateUsLongBetween":case"date_us_long_between":case"betweenDateUsLong":case"between_date_us_long":var _=r.split(",");if(2!==_.length)throw"This validation must include exactly 2 params separated by a comma (,) ex.: between_date_us_long:01/01/1990,12/31/2015";n={condition:[">=","<="],dateType:"US_LONG",params:[_[0],_[1]],pattern:"^(0[1-9]|1[012])[-/](0[1-9]|[12][0-9]|3[01])[-/](19|20)\\d\\d$",message:"INVALID_DATE_US_LONG_BETWEEN",type:"conditionalDate"};break;case"dateUsLongMax":case"date_us_long_max":case"maxDateUsLong":case"max_date_us_long":n={condition:"<=",dateType:"US_LONG",params:[r],pattern:"^(0[1-9]|1[012])[-/](0[1-9]|[12][0-9]|3[01])[-/](19|20)\\d\\d$",message:"INVALID_DATE_US_LONG_MAX",type:"conditionalDate"};break;case"dateUsLongMin":case"date_us_long_min":case"minDateUsLong":case"min_date_us_long":n={condition:">=",dateType:"US_LONG",params:[r],pattern:"^(0[1-9]|1[012])[-/](0[1-9]|[12][0-9]|3[01])[-/](19|20)\\d\\d$",message:"INVALID_DATE_US_LONG_MIN",type:"conditionalDate"};break;case"dateUsShort":case"date_us_short":n={pattern:"^(0[1-9]|1[012])[-/](0[1-9]|[12][0-9]|3[01])[-/]\\d\\d$",message:"INVALID_DATE_US_SHORT",type:"regex"};break;case"dateUsShortBetween":case"date_us_short_between":case"betweenDateUsShort":case"between_date_us_short":var _=r.split(",");if(2!==_.length)throw"This validation must include exactly 2 params separated by a comma (,) ex.: between_date_us_short:01/01/90,12/31/15";n={condition:[">=","<="],dateType:"US_SHORT",params:[_[0],_[1]],pattern:"^(0[1-9]|1[012])[-/](0[1-9]|[12][0-9]|3[01])[-/]\\d\\d$",message:"INVALID_DATE_US_SHORT_BETWEEN",type:"conditionalDate"};break;case"dateUsShortMax":case"date_us_short_max":case"maxDateUsShort":case"max_date_us_short":n={condition:"<=",dateType:"US_SHORT",params:[r],pattern:"^(0[1-9]|1[012])[-/](0[1-9]|[12][0-9]|3[01])[-/]\\d\\d$",message:"INVALID_DATE_US_SHORT_MAX",type:"conditionalDate"};break;case"dateUsShortMin":case"date_us_short_min":case"minDateUsShort":case"min_date_us_short":n={condition:">=",dateType:"US_SHORT",params:[r],pattern:"^(0[1-9]|1[012])[-/](0[1-9]|[12][0-9]|3[01])[-/]\\d\\d$",message:"INVALID_DATE_US_SHORT_MIN",type:"conditionalDate"};break;case"email":n={pattern:"^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$",message:"INVALID_EMAIL",type:"regex"};break;case"exactLen":case"exact_len":n={pattern:"^.{"+r+"}$",message:"INVALID_EXACT_LEN",params:[r],type:"regex"};break;case"float":n={pattern:"^\\d*\\.{1}\\d+$",message:"INVALID_FLOAT",type:"regex"};break;case"floatSigned":case"float_signed":n={pattern:"^[-+]?\\d*\\.{1}\\d+$",message:"INVALID_FLOAT_SIGNED",type:"regex"};break;case"iban":n={pattern:"[a-zA-Z]{2}[0-9]{2}[a-zA-Z0-9]{4}[0-9]{7}([a-zA-Z0-9]?){0,16}",message:"INVALID_IBAN",type:"regex"};break;case"int":case"integer":n={pattern:"^\\d+$",message:"INVALID_INTEGER",type:"regex"};break;case"intSigned":case"integerSigned":case"int_signed":case"integer_signed":n={pattern:"^[+-]?\\d+$",message:"INVALID_INTEGER_SIGNED",type:"regex"};break;case"ipv4":n={pattern:"^(25[0-5]|2[0-4]\\d|[0-1]?\\d?\\d)(\\.(25[0-5]|2[0-4]\\d|[0-1]?\\d?\\d)){3}$",message:"INVALID_IPV4",type:"regex"};break;case"ipv6":n={pattern:"^(?:[0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}$",message:"INVALID_IPV6",type:"regex"};break;case"ipv6_hex":n={pattern:"^((?:[0-9A-Fa-f]{1,4}(?::[0-9A-Fa-f]{1,4})*)?)::((?:[0-9A-Fa-f]{1,4}(?::[0-9A-Fa-f]{1,4})*)?)$",message:"INVALID_IPV6_HEX",type:"regex"};break;case"match":var e=r.split(",");n={message:"INVALID_INPUT_MATCH",params:e,type:"match"};break;case"maxLen":case"max_len":n={pattern:"^.{0,"+r+"}$",message:"INVALID_MAX_CHAR",params:[r],type:"regex"};break;case"maxNum":case"max_num":n={condition:"<=",message:"INVALID_MAX_NUM",params:[r],type:"conditionalNumber"};break;case"minLen":case"min_len":n={pattern:"^.{"+r+",}$",message:"INVALID_MIN_CHAR",params:[r],type:"regex"};break;case"minNum":case"min_num":n={condition:">=",message:"INVALID_MIN_NUM",params:[r],type:"conditionalNumber"};break;case"numeric":n={pattern:"^\\d*\\.?\\d+$",message:"INVALID_NUMERIC",type:"regex"};break;case"numericSigned":case"numeric_signed":n={pattern:"^[-+]?\\d*\\.?\\d+$",message:"INVALID_NUMERIC_SIGNED",type:"regex"};break;case"regex":n={pattern:t.pattern,message:"INVALID_PATTERN",params:[t.message],type:"regex"};break;case"required":n={pattern:"\\S+",message:"INVALID_REQUIRED",type:"regex"};break;case"url":n={pattern:"(http|ftp|https):\\/\\/[\\w\\-_]+(\\.[\\w\\-_]+)+([\\w\\-\\.,@?^=%&amp;:/~\\+#]*[\\w\\-\\@?^=%&amp;/~\\+#])?",message:"INVALID_URL",type:"regex"};break;case"time":n={pattern:"^([01]?[0-9]|2[0-3]):[0-5][0-9](:[0-5][0-9])?$",message:"INVALID_TIME",type:"regex"};break;case"checked":n={pattern:"^true$",message:"INVALID_CHECKBOX_SELECTED",type:"regex"}}return n.altText=a,n}var a={getElementValidators:e};return a}]);
angular.module("ghiscoding.validation").service("validationService",["$timeout","validationCommon",function(e,o){function t(o,t){var i=this,n={};if("string"==typeof o&&"string"==typeof t?(n.elmName=o,n.rules=t):n=o,"object"!=typeof n||!n.hasOwnProperty("elmName")||!n.hasOwnProperty("rules")||!n.hasOwnProperty("scope")&&"undefined"==typeof i.validationAttrs.scope)throw"Angular-Validation-Service requires at least the following 3 attributes: {elmName, rules, scope}";return n.elm=angular.element(document.querySelector('[name="'+n.elmName+'"]:not([disabled]):not([ng-disabled]')),"object"!=typeof n.elm||0===n.elm.length?i:(new RegExp("{{(.*?)}}").test(n.elmName)&&(n.elmName=$interpolate(n.elmName)(n.scope)),n.name=n.elmName,n.elm.bind("blur",s=function(e){u||(i.commonObj.initialize(n.scope,n.elm,n,n.ctrl),i.commonObj.typingLimit=0,r(i,e.target.value))}),n=c(i.validationAttrs,n),n.scope.$watch(n.elmName,function(o,t){return void 0===o&&void 0!==t?(e.cancel(i.timer),void i.commonObj.ctrl.$setValidity("validation",i.commonObj.validate("",!0))):(n.ctrl=angular.element(n.elm).controller("ngModel"),n.value=o,i.commonObj.initialize(n.scope,n.elm,n,n.ctrl),void r(i,o))},!0),i)}function i(e){var o=this,t="",i=!0;if("undefined"==typeof e||"undefined"==typeof e.$validationSummary)throw"checkFormValidity() requires a valid Angular Form or $scope object passed as argument to function properly (ex.: $scope.form1  OR  $scope).";for(var n=0,a=e.$validationSummary.length;a>n;n++)if(i=!1,t=e.$validationSummary[n].field){var m=o.commonObj.getFormElementByName(t);m.elm&&m.elm.length>0&&(m.ctrl.$setTouched(),o.commonObj.updateErrorMsg(e.$validationSummary[n].message,{isSubmitted:!0,isValid:m.isValid,obj:m}))}return i}function n(e){var o=this;if("undefined"==typeof e||"undefined"==typeof e.$validationSummary)throw"checkFormValidity() requires a valid Angular Form or $scope object passed as argument to function properly (ex.: $scope.form1  OR  $scope).";for(var t=[],i=0,n=e.$validationSummary.length;n>i;i++)t.push(e.$validationSummary[i].field);for(i=0,n=t.length;n>i;i++)t[i]&&(o.commonObj.removeFromFormElementObjectList(t[i]),o.commonObj.removeFromValidationSummary(e.$validationSummary,t[i]))}function a(e,o){var t,i=this;if("undefined"==typeof e||"undefined"==typeof e.$validationSummary)throw"checkFormValidity() requires a valid Angular Form or $scope object passed as argument to function properly (ex.: $scope.form1  OR  $scope).";if(o instanceof Array)for(var n=0,a=o.length;a>n;n++)t=i.commonObj.getFormElementByName(o[n]),d(i,t,e.$validationSummary);else t=i.commonObj.getFormElementByName(o),d(i,t,e.$validationSummary);return i}function m(e){var o=this;return o.validationAttrs=e,o}function r(o,t){return o.commonObj.validate(t,!1),o.commonObj.isFieldRequired()||""!==t&&null!==t&&"undefined"!=typeof t?(u=!1,(o.commonObj.isFieldRequired()||t)&&o.commonObj.ctrl.$setValidity("validation",!1),""!==t&&"undefined"!=typeof t||"NUMBER"!==o.commonObj.elm.prop("type").toUpperCase()?"SELECT"===o.commonObj.elm.prop("tagName").toUpperCase()?(o.commonObj.ctrl.$setValidity("validation",o.commonObj.validate(t,!0)),t):("undefined"!=typeof t&&(o.commonObj.updateErrorMsg(""),e.cancel(o.timer),o.timer=e(function(){o.commonObj.scope.$evalAsync(o.commonObj.ctrl.$setValidity("validation",o.commonObj.validate(t,!0)))},o.commonObj.typingLimit)),t):(e.cancel(o.timer),o.commonObj.ctrl.$setValidity("validation",o.commonObj.validate(t,!0)),t)):(l(o),t)}function l(o){u=!0,e.cancel(self.timer),o.commonObj.updateErrorMsg(""),o.commonObj.ctrl.$setValidity("validation",!0),"undefined"!=typeof s&&o.commonObj.elm.unbind("blur",s)}function c(e,o){var t={};for(var i in e)t[i]=e[i];for(var i in o)t[i]=o[i];return t}function d(e,o,t){if("undefined"!=typeof e.commonObj.scope){var i=e.commonObj.scope.$watch(o.fieldName,function(){});i(),o.ctrl.$setUntouched(),o.ctrl.$setPristine(),o.ctrl.$setValidity("validation",!0),e.commonObj.removeFromValidationSummary(t,o.fieldName),e.commonObj.updateErrorMsg("",{isValid:!0,obj:o})}}var s,u=!1,p=function(){this.validationAttrs={},this.commonObj=new o};return p.prototype.addValidator=t,p.prototype.checkFormValidity=i,p.prototype.removeValidator=a,p.prototype.setGlobalOptions=m,p.prototype.clearInvalidValidatorsInSummary=n,p}]);